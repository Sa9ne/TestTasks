# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ Medods

## üìå –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker –∏ Docker Compose.  
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ **Medods**.  
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```bash
DATABASE_URL=postgres://postgres:–ü–∞—Ä–æ–ª—å–û—Ç–ë–¥@db:5432/Medods
POSTGRES_PASSWORD=–ü–∞—Ä–æ–ª—å–û—Ç–ë–¥
POSTGRES_USER=postgres
POSTGRES_DB=Medods
```
> –ó–∞–º–µ–Ω–∏—Ç–µ `–ü–∞—Ä–æ–ª—å–û—Ç–ë–¥` –Ω–∞ –≤–∞—à –ø–∞—Ä–æ–ª—å –¥–ª—è PostgreSQL.

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∫–æ–º–∞–Ω–¥–æ–π:

```bash
docker-compose -f docker-compose.yaml up -d
```

## ‚öôÔ∏è –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤

–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8080
URL: http://localhost:8080

PostgreSQL –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5433
URL: localhost:5433
(–í docker-compose.yaml —É–∫–∞–∑–∞–Ω–æ "5433:5432", –ø–æ—ç—Ç–æ–º—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç PostgreSQL ‚Äî 5432, –∞ –≤–Ω–µ—à–Ω–∏–π ‚Äî 5433)

## üóÑÔ∏è –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –≤ PostgreSQL –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Medods —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ Doctors –∏ Patients.

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–∞—á–µ–π:
```bash
INSERT INTO doctors (first_name, last_name, middle_name)
VALUES
('–ê–ª–µ–∫—Å–µ–π', '–ò–≤–∞–Ω–æ–≤', '–°–µ—Ä–≥–µ–µ–≤–∏—á'),
('–ú–∞—Ä–∏—è', '–ü–µ—Ç—Ä–æ–≤–∞', '–ê–ª–µ–∫—Å–µ–µ–≤–Ω–∞'),
('–î–º–∏—Ç—Ä–∏–π', '–°–∏–¥–æ—Ä–æ–≤', '–í–∏–∫—Ç–æ—Ä–æ–≤–∏—á'),
('–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞', '–ö—É–∑–Ω–µ—Ü–æ–≤–∞', '–ê–Ω–¥—Ä–µ–µ–≤–Ω–∞'),
('–ù–∏–∫–æ–ª–∞–π', '–°–º–∏—Ä–Ω–æ–≤', '–ü–∞–≤–ª–æ–≤–∏—á');
```

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤:
```bash
INSERT INTO patients (first_name, last_name, middle_name, birthday, gender, height, weight, created_at, updated_at)
VALUES
('–ò–≤–∞–Ω', '–ò–≤–∞–Ω–æ–≤', '–ò–≤–∞–Ω–æ–≤–∏—á', '1990-01-15', '–º', 175.0, 70.0, NOW(), NOW()),
('–ú–∞—Ä–∏–Ω–∞', '–ü–µ—Ç—Ä–æ–≤–∞', '–ê–ª–µ–∫—Å–µ–µ–≤–Ω–∞', '1985-06-20', '–∂', 165.0, 60.0, NOW(), NOW()),
('–î–º–∏—Ç—Ä–∏–π', '–°–∏–¥–æ—Ä–æ–≤', '–í–∏–∫—Ç–æ—Ä–æ–≤–∏—á', '1992-03-10', '–º', 180.0, 80.0, NOW(), NOW()),
('–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞', '–ö—É–∑–Ω–µ—Ü–æ–≤–∞', '–ï–≤–≥–µ–Ω—å–µ–≤–Ω–∞', '1995-09-25', '–∂', 170.0, 58.0, NOW(), NOW()),
('–ù–∏–∫–æ–ª–∞–π', '–°–º–∏—Ä–Ω–æ–≤', '–ù–∏–∫–æ–ª–∞–µ–≤–∏—á', '1988-12-05', '–º', 178.0, 85.0, NOW(), NOW()),
('–û–ª—å–≥–∞', '–§–µ–¥–æ—Ä–æ–≤–∞', '–ò–≥–æ—Ä–µ–≤–Ω–∞', '1993-11-11', '–∂', 160.0, 55.0, NOW(), NOW()),
('–ê–ª–µ–∫—Å–∞–Ω–¥—Ä', '–ì—É—Å–µ–≤', '–ú–∏—Ö–∞–π–ª–æ–≤–∏—á', '1987-07-07', '–º', 182.0, 90.0, NOW(), NOW()),
('–¢–∞—Ç—å—è–Ω–∞', '–ú–æ—Ä–æ–∑–æ–≤–∞', '–ê–Ω–¥—Ä–µ–µ–≤–Ω–∞', '1994-02-14', '–∂', 168.0, 62.0, NOW(), NOW()),
('–°–µ—Ä–≥–µ–π', '–ö–æ–∑–ª–æ–≤', '–í–ª–∞–¥–∏–º–∏—Ä–æ–≤–∏—á', '1991-05-21', '–º', 176.0, 78.0, NOW(), NOW()),
('–ê–Ω–Ω–∞', '–õ–µ–±–µ–¥–µ–≤–∞', '–°–µ—Ä–≥–µ–µ–≤–Ω–∞', '1996-08-30', '–∂', 164.0, 57.0, NOW(), NOW()),
('–ü–∞–≤–µ–ª', '–í–æ—Ä–æ–Ω–æ–≤', '–ê–ª–µ–∫—Å–µ–µ–≤–∏—á', '1989-04-18', '–º', 177.0, 82.0, NOW(), NOW()),
('–Æ–ª–∏—è', '–ó–∞–π—Ü–µ–≤–∞', '–ù–∏–∫–∏—Ç–∏–Ω–∞', '1992-12-22', '–∂', 162.0, 59.0, NOW(), NOW()),
('–í–ª–∞–¥–∏–º–∏—Ä', '–ù–æ–≤–∏–∫–æ–≤', '–ü–∞–≤–ª–æ–≤–∏—á', '1986-03-03', '–º', 181.0, 88.0, NOW(), NOW()),
('–°–≤–µ—Ç–ª–∞–Ω–∞', '–û—Ä–ª–æ–≤–∞', '–î–º–∏—Ç—Ä–∏–µ–≤–Ω–∞', '1990-10-10', '–∂', 167.0, 64.0, NOW(), NOW()),
('–ê–Ω–¥—Ä–µ–π', '–°–æ–∫–æ–ª–æ–≤', '–í–ª–∞–¥–∏—Å–ª–∞–≤–æ–≤–∏—á', '1984-06-06', '–º', 185.0, 92.0, NOW(), NOW());
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ 

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã GET:

1. –ü–æ–∏—Å–∫ –ø–∞—Ü–∏–µ–Ω—Ç–∞
```bash
http://localhost:8080/Patient?full_name=–ò–≤–∞–Ω&gender=–º&start_age=20&end_age=40&limit=10&offset=0
```
–û—Ç–≤–µ—Ç:
```bash
{
  "id": 1,
  "first_name": "–ò–≤–∞–Ω",
  "last_name": "–ò–≤–∞–Ω–æ–≤",
  "middle_name": "–ò–≤–∞–Ω–æ–≤–∏—á",
  "birthday": "1990-01-15T00:00:00Z",
  "gender": "–º",
  "height": 175,
  "weight": 70,
  "created_at": "2025-09-28T16:06:11.978492Z",
  "updated_at": "2025-09-28T16:06:11.978492Z",
  "doctors": null,
  "BMRs": null
}
```
2. –ü–æ–∏—Å–∫ –≤—Ä–∞—á–µ–π
```bash
GET http://localhost:8080/Doctor?limit=2&offset=0
```
–û—Ç–≤–µ—Ç:
```bash
[
  {"id":11,"first_name":"–ê–ª–µ–∫—Å–µ–π","last_name":"–ò–≤–∞–Ω–æ–≤","middle_name":"–°–µ—Ä–≥–µ–µ–≤–∏—á","patients":null},
  {"id":12,"first_name":"–ú–∞—Ä–∏—è","last_name":"–ü–µ—Ç—Ä–æ–≤–∞","middle_name":"–ê–ª–µ–∫—Å–µ–µ–≤–Ω–∞","patients":null}
]
```
3. –†–∞—Å—á—ë—Ç –±–∞–∑–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –º–µ—Ç–∞–±–æ–ª–∏–∑–º–∞ (BMR)
```bash
http://localhost:8080/BMR?id=1&formula=mifflin
```
–û—Ç–≤–µ—Ç:
```bash
{
  "formula": "mifflin",
  "patient_id": 1,
  "result": 1623.75
}
```
4. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞—Å—á—ë—Ç–æ–≤ BMR
```bash
http://localhost:8080/BMRHistory?id=1&limit=5&offset=0
```
–û—Ç–≤–µ—Ç:
```bash
[
  {"id":1,"patient_id":1,"formula":"mifflin","result":1623.75,"created_at":"2025-09-28T16:08:59.847345Z"}
]
```
5. –†–∞—Å—á—ë—Ç –∏–Ω–¥–µ–∫—Å–∞ –º–∞—Å—Å—ã —Ç–µ–ª–∞ (BMI) —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–µ–µ API
```bash
http://localhost:8080/BMI?weight=70&height=175
```
–û—Ç–≤–µ—Ç:
```bash
{
  "bmi": 22.86,
  "status": "Normal"
}
```
